(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{584:function(t,s,e){"use strict";e.r(s);var n=e(13),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"背景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),e("p",[t._v("多人协作共同开发一个项目时，由于各自编码风格的差异，项目最终各个模块间的代码风格可能风格各异，这就会导致后序整个项目的维护成本和代价很高。所以，统一团队编码风格就显得尤为重要。这时，我们就需要通过各种各样的代码格式化工具来对开发成员进行约束，保证代码风格的统一。同时也希望通过工具尽可能的减少低级错误的出现。")]),t._v(" "),e("h2",{attrs:{id:"插件比较"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#插件比较"}},[t._v("#")]),t._v(" 插件比较")]),t._v(" "),e("h3",{attrs:{id:"eslint"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eslint"}},[t._v("#")]),t._v(" ESLint")]),t._v(" "),e("p",[t._v("ESLint 可以通过定义 rules 和 extends 来引入更多的规则，但只能检查 JS 语法。不能对 Vue 中的 template 或者 React 中的 jsx进行检测。所以ESLint往往需要引入插件来增强自身的检查能力和范围")]),t._v(" "),e("h3",{attrs:{id:"vetur"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vetur"}},[t._v("#")]),t._v(" Vetur")]),t._v(" "),e("p",[t._v("Vetur是我们能优雅写Vue的核心，支持"),e("code",[t._v("<template>")]),t._v("调用 html 格式化工具，"),e("code",[t._v("<script>")]),t._v("调用 JavaScript 格式化工具，"),e("code",[t._v("<style>")]),t._v("使用样式格式化工具")]),t._v(" "),e("p",[e("em",[t._v("优点：")])]),t._v(" "),e("ul",[e("li",[t._v("集成了prettier")]),t._v(" "),e("li",[t._v("支持*.vue中不同的块使用不同的格式化方案")]),t._v(" "),e("li",[t._v("Emmet语法支持")]),t._v(" "),e("li",[t._v("语法错误校验检查")]),t._v(" "),e("li",[t._v("格式化代码")]),t._v(" "),e("li",[t._v("代码提醒")]),t._v(" "),e("li",[t._v("对三方UI框架支持")])]),t._v(" "),e("p",[e("em",[t._v("缺点：")])]),t._v(" "),e("ul",[e("li",[t._v("格式化的标准和ESLint会有冲突")]),t._v(" "),e("li",[t._v("只支持整个文档格式化, 不支持选中某个片段格式化")])]),t._v(" "),e("h3",{attrs:{id:"prettier"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prettier"}},[t._v("#")]),t._v(" Prettier")]),t._v(" "),e("p",[t._v("Prettier是近年来使用频率特别高的一款通用前端代码格式化工具，Prettier几乎能完成所有类型代码文件的格式化工作，或者针对markdown这样的文档进行格式化操作。通过Prettier可以很容易的去规范前端项目中的代码风格标准，而且使用也非常简单。")]),t._v(" "),e("p",[e("strong",[t._v("Prettier 在自己的官网首页列出了这么三点：")])]),t._v(" "),e("ul",[e("li",[t._v("An opinionated code formatter（固执己见的代码格式化工具【言外之意就是你必须认同我的规则，否则别用，哈哈哈】）")]),t._v(" "),e("li",[t._v("Supports many languages （支持多种语言）")]),t._v(" "),e("li",[t._v("Integrates with most editors （集成大多数IDE）")]),t._v(" "),e("li",[t._v("Has few options （少量的配置）")])]),t._v(" "),e("p",[t._v("Prettier的原理非常简单，不管你写的代码是什么样子，Prettier 会先把你的代码转换成AST(Abstract Syntax Tree) 或者说语法树，然后根据自己的规则用统一的格式进行重新输出，输出时基本只需要考虑line length。")]),t._v(" "),e("p",[t._v("例如下面这段代码，Prettier就不会对其进行更改")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("handleClick(a, b, c, d);\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("如果是下面这样的代码")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("handleClick(stubObject(), runInContext(), partialRight(), matchesProperty());\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("Prettier会将其重新输出为这样")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("handleClick(\n  stubObject(), \n  runInContext(), \n  partialRight(), \n  matchesProperty()\n);\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("p",[t._v("它和ESLint的区别在于Prettier是一个专注于代码格式化的工具，对代码不做质量检查。而ESLint作为大名鼎鼎Linters系列中的一员，是按照规则去检查代码的，遇到不符合规则的代码就会提示用户，而有的规则还能自动解决代码冲突")]),t._v(" "),e("p",[e("strong",[t._v("这些规则主要分为两类")])]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("Formatting rules")])]),t._v(" "),e("ol",[e("li",[e("a",{attrs:{href:"https://eslint.org/docs/rules/max-len",target:"_blank",rel:"noopener noreferrer"}},[t._v("max-len"),e("OutboundLink")],1),t._v("，设置单行长度不能超过多少")]),t._v(" "),e("li",[e("a",{attrs:{href:"http://eslint.org/docs/rules/keyword-spacing",target:"_blank",rel:"noopener noreferrer"}},[t._v("keyword-spacing"),e("OutboundLink")],1),t._v("，设置关键字前后是否必须有空格")])])])]),t._v(" "),e("p",[t._v("当ESLint遇到违反上面规则的代码时，会提示用户违反了规则，让用户修改代码以符合规则。")]),t._v(" "),e("p",[t._v("而Prettier不会这么麻烦，不管之前的代码符不符合什么规则，都会先把代码解析成 AST，然后按照自己的风格重新输出代码。")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("Code-quality rules")])]),t._v(" "),e("p",[t._v("1."),e("a",{attrs:{href:"http://eslint.org/docs/rules/no-unused-vars",target:"_blank",rel:"noopener noreferrer"}},[t._v("no-unused-vars"),e("OutboundLink")],1),t._v("，不允许定义了没用的变量出现")])])]),t._v(" "),e("p",[t._v("Prettier 对这类规则束手无策。而这类规则也是 ESLint 的核心设计，正是因为有了这些规则的存在，我们才能发现开发过程中很多低级的 Bug。")]),t._v(" "),e("p",[t._v("综上，Prettier 不会取代 ESLint，而是能避免我们的代码和这些 ESLint 定义的 Formatting rules 冲突。")]),t._v(" "),e("p",[t._v("那么既要让 Prettier 格式化代码，还想让 ESLint 挑出潜在的 Code-quality 错误，就需要 Prettier 和 Linters 配合使用。")]),t._v(" "),e("h3",{attrs:{id:"beautify"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#beautify"}},[t._v("#")]),t._v(" Beautify")]),t._v(" "),e("p",[t._v("Beautify也是一个老牌格式化插件，虽然Star不如Prettier，但在vetur的template还没有很好的支持prettier时，官方推荐使用js-beautify-html。当然Beautify也有缺点，就是对JSX的支持不是太好。如果比较习惯Beautify的格式化风格，也可以选用Beautify。毕竟，萝卜青菜各有所爱。")]),t._v(" "),e("h3",{attrs:{id:"manta-s-stylus-supremacy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#manta-s-stylus-supremacy"}},[t._v("#")]),t._v(" Manta's Stylus Supremacy")]),t._v(" "),e("p",[t._v("格式化stylus的插件，主要是把css格式化为stylus风格，如果项目中没有用到stylus的话可以不用装")]),t._v(" "),e("h2",{attrs:{id:"代码风格"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#代码风格"}},[t._v("#")]),t._v(" 代码风格")]),t._v(" "),e("ul",[e("li",[t._v("javascript遵循ESlint规范")]),t._v(" "),e("li",[t._v("html、wxml遵循prettyHtml规范")]),t._v(" "),e("li",[t._v("javascript/typescript风格\n"),e("ol",[e("li",[t._v("结尾分号")]),t._v(" "),e("li",[t._v("超过120个字符换行")]),t._v(" "),e("li",[t._v("使用单引号")]),t._v(" "),e("li",[t._v("无尾随逗号")]),t._v(" "),e("li",[t._v("箭头函数参数只有一个时，不加小括号")]),t._v(" "),e("li",[t._v("函数声明禁止圆括号前面有空格")]),t._v(" "),e("li",[t._v("对象、数组、括号与文字之间加空格")])])])]),t._v(" "),e("h2",{attrs:{id:"个性化配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#个性化配置"}},[t._v("#")]),t._v(" 个性化配置")]),t._v(" "),e("p",[t._v("打开VS Code配置文件setting.json或者快捷键"),e("code",[t._v("ctrl + shirt + p")]),t._v("，搜索Settings，打开文件")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n  // 每次保存是否自动格式化文件\n  "editor.formatOnSave": true, \n  // 每次保存的时候将代码按格式进行修复\n  "editor.codeActionsOnSave": {\n    "source.fixAll": true\n  },\n  // 针对.vue、.ts 和 .tsx 文件开启 ESLint 的 autoFix\n  "eslint.validate": [\n    "javascript",\n    "javascriptreact",\n    “vue”,\n    "typescript",\n    "typescriptreact"\n  ],\n  "[javascript]": {\n    "editor.defaultFormatter: "esbenp.prettier-vscode"\n  },\n  "[typescript]": {\n    "editor.defaultFormatter": "esbenp.prettier-vscode"\n  },\n  "[vue]": {\n    "editor.defaultFormatter": "octref.vetur"\n  },\n  "[jsonc]": {\n    "editor.defaultFormatter": "esbenp.prettier-vscode"\n  },\n  "[html]": {\n    "editor.defaultFormatter": "esbenp.prettier-vscode"\n  },\n  "[css]": {\n    "editor.defaultFormatter": "esbenp.prettier-vscode"\n  },\n  "[less]": {\n    "editor.defaultFormatter": "esbenp.prettier-vscode"\n  },\n  "[scss]": {\n    "editor.defaultFormatter": "esbenp.prettier-vscode"\n  },\n  // 默认使用prettier格式化支持的文件\n  "vetur.format.defaultFormatter.js": "prettier",\n  "vetur.format.defaultFormatter.html": "prettyhtml",\n  // 如果是vue3.0项目可以加入下面这行代码，让ts在template上获得更好的支持\n  "vetur.experimental.templateInterpolationService": true,\n  "vetur.format.defaultFormatterOptions": {\n    "prettier": {\n      // 让prettier使用eslint的代码格式进行校验\n      "eslintIntegration": true,\n      // 缩近字节数\n      "tabWidth": 2,\n      // 结尾添加分号\n      "semi": true,\n      // 超过120个字符换行\n      "printWidth": 120,\n      // 使用单引号\n      "singleQuote": true,\n      // 无尾随逗号\n      "trailingComma": "none",\n      // 箭头函数单个参数不加分号\n      "arrowParens": "avoid",\n      // 在对象，数组括号与文字之间加空格\n      "bracketSpacing": true,\n    }\n  },\n  // 缩进字节数\n  "prettier.tabWidth": 2,\n  "prettier.semi": true,\n  "prettier.printWidth": 120,\n  "prettier.trailingComma": "none",\n  "prettier.singleQuote": true,\n  "prettier.arrowParens": "avoid",\n  "prettier.bracketSpacing": true,\n  "files.associations": {\n    "*.cjson": "jsonc",\n    "*.wxss": "css",\n    "*.wxs": "javascript"\n  },\n  // 指定wxml的格式化\n  "minapp-vscode.wxmlFormatter": "prettyHtml",\n  "minapp-vscode.disableAutoConfig": true\n}\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br"),e("span",{staticClass:"line-number"},[t._v("37")]),e("br"),e("span",{staticClass:"line-number"},[t._v("38")]),e("br"),e("span",{staticClass:"line-number"},[t._v("39")]),e("br"),e("span",{staticClass:"line-number"},[t._v("40")]),e("br"),e("span",{staticClass:"line-number"},[t._v("41")]),e("br"),e("span",{staticClass:"line-number"},[t._v("42")]),e("br"),e("span",{staticClass:"line-number"},[t._v("43")]),e("br"),e("span",{staticClass:"line-number"},[t._v("44")]),e("br"),e("span",{staticClass:"line-number"},[t._v("45")]),e("br"),e("span",{staticClass:"line-number"},[t._v("46")]),e("br"),e("span",{staticClass:"line-number"},[t._v("47")]),e("br"),e("span",{staticClass:"line-number"},[t._v("48")]),e("br"),e("span",{staticClass:"line-number"},[t._v("49")]),e("br"),e("span",{staticClass:"line-number"},[t._v("50")]),e("br"),e("span",{staticClass:"line-number"},[t._v("51")]),e("br"),e("span",{staticClass:"line-number"},[t._v("52")]),e("br"),e("span",{staticClass:"line-number"},[t._v("53")]),e("br"),e("span",{staticClass:"line-number"},[t._v("54")]),e("br"),e("span",{staticClass:"line-number"},[t._v("55")]),e("br"),e("span",{staticClass:"line-number"},[t._v("56")]),e("br"),e("span",{staticClass:"line-number"},[t._v("57")]),e("br"),e("span",{staticClass:"line-number"},[t._v("58")]),e("br"),e("span",{staticClass:"line-number"},[t._v("59")]),e("br"),e("span",{staticClass:"line-number"},[t._v("60")]),e("br"),e("span",{staticClass:"line-number"},[t._v("61")]),e("br"),e("span",{staticClass:"line-number"},[t._v("62")]),e("br"),e("span",{staticClass:"line-number"},[t._v("63")]),e("br"),e("span",{staticClass:"line-number"},[t._v("64")]),e("br"),e("span",{staticClass:"line-number"},[t._v("65")]),e("br"),e("span",{staticClass:"line-number"},[t._v("66")]),e("br"),e("span",{staticClass:"line-number"},[t._v("67")]),e("br"),e("span",{staticClass:"line-number"},[t._v("68")]),e("br"),e("span",{staticClass:"line-number"},[t._v("69")]),e("br"),e("span",{staticClass:"line-number"},[t._v("70")]),e("br"),e("span",{staticClass:"line-number"},[t._v("71")]),e("br"),e("span",{staticClass:"line-number"},[t._v("72")]),e("br"),e("span",{staticClass:"line-number"},[t._v("73")]),e("br"),e("span",{staticClass:"line-number"},[t._v("74")]),e("br"),e("span",{staticClass:"line-number"},[t._v("75")]),e("br"),e("span",{staticClass:"line-number"},[t._v("76")]),e("br"),e("span",{staticClass:"line-number"},[t._v("77")]),e("br"),e("span",{staticClass:"line-number"},[t._v("78")]),e("br"),e("span",{staticClass:"line-number"},[t._v("79")]),e("br"),e("span",{staticClass:"line-number"},[t._v("80")]),e("br"),e("span",{staticClass:"line-number"},[t._v("81")]),e("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);